# 系统级通知使用指南

## 功能说明

当您的情绪达到"极度兴奋"状态（GSR传感器值 ≥ 50）时，系统会自动发送**浏览器系统级通知**来关心您的状态。

## 特性

✨ **系统级通知** - 使用浏览器的 Notification API，通知会显示在操作系统的通知中心
🔔 **声音提醒** - 发送通知时会播放系统通知声音
⏱️ **智能冷却** - 5分钟冷却期，避免过度打扰
💬 **多样消息** - 5种不同的关心消息，智能避免重复
⏰ **自动关闭** - 10秒后自动消失
🖱️ **点击聚焦** - 点击通知会自动聚焦到应用窗口

## 使用步骤

### 1. 启用通知权限

首次使用时，您需要授予浏览器通知权限：

1. 打开应用后，点击左上角的 **"🔔 启用通知提醒"** 按钮
2. 在浏览器弹出的权限请求中，点击 **"允许"**
3. 权限授予后，按钮会消失，表示通知已启用

### 2. 测试通知

您可以通过以下方式测试通知：

1. 点击 **"Use Mock Data"** 按钮启用模拟数据模式
2. 模拟数据会自动生成不同的情绪状态
3. 当情绪达到"极度兴奋"状态时，您会收到系统通知

### 3. 实际使用

1. 连接 GSR 传感器
2. 当您的情绪波动较大，传感器值达到 50 以上时
3. 系统会自动发送关心通知到您的操作系统通知中心

## 通知权限状态

- **🔔 启用通知提醒** - 点击此按钮授予通知权限
- **🔕 通知已禁用** - 您已拒绝通知权限，需要在浏览器设置中手动启用

## 浏览器兼容性

系统级通知支持以下浏览器：

- ✅ Chrome/Edge (推荐)
- ✅ Firefox
- ✅ Safari
- ✅ Opera

## 隐私说明

- 通知仅在本地浏览器中触发，不会发送到任何服务器
- 所有情绪数据都存储在浏览器的本地存储中
- 您可以随时在浏览器设置中禁用通知权限

## 故障排除

### 没有收到通知？

1. 检查浏览器通知权限是否已授予
2. 检查操作系统的通知设置是否已启用
3. 确保浏览器没有处于"勿扰模式"
4. 尝试刷新页面重新授予权限

### 如何重新授予权限？

如果您之前拒绝了通知权限：

**Chrome/Edge:**
1. 点击地址栏左侧的锁图标
2. 找到"通知"设置
3. 选择"允许"
4. 刷新页面

**Firefox:**
1. 点击地址栏左侧的信息图标
2. 找到"权限"部分
3. 将"通知"设置为"允许"
4. 刷新页面

## 技术细节

- 使用浏览器原生 Notification API
- 通知标签（tag）: `mood-care`
- 自动关闭时间: 10秒
- 冷却期: 5分钟
- 消息模板数量: 5种

## 反馈

如果您在使用过程中遇到任何问题，欢迎反馈！
